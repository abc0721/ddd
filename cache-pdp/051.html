<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>051. 基于“分发层 + 应用层”双层 nginx 架构提升缓存命中率方案分析 | LEARN-BOOK</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/learn-book/favicon.ico">
    <link rel="manifest" href="/learn-book/manifest.json">
    <meta name="description" content="note-book 的第二分仓笔记仓库">
    
    <link rel="preload" href="/learn-book/assets/css/0.styles.d1598957.css" as="style"><link rel="preload" href="/learn-book/assets/js/app.028ed7df.js" as="script"><link rel="preload" href="/learn-book/assets/js/2.21223788.js" as="script"><link rel="preload" href="/learn-book/assets/js/90.3222c7da.js" as="script"><link rel="preload" href="/learn-book/assets/js/83.ec5af474.js" as="script"><link rel="prefetch" href="/learn-book/assets/js/10.ae9ef0d5.js"><link rel="prefetch" href="/learn-book/assets/js/100.e2686a94.js"><link rel="prefetch" href="/learn-book/assets/js/101.1e48f558.js"><link rel="prefetch" href="/learn-book/assets/js/102.2b0aead0.js"><link rel="prefetch" href="/learn-book/assets/js/103.36a9d0c5.js"><link rel="prefetch" href="/learn-book/assets/js/104.940c0889.js"><link rel="prefetch" href="/learn-book/assets/js/105.4059f322.js"><link rel="prefetch" href="/learn-book/assets/js/106.258dd171.js"><link rel="prefetch" href="/learn-book/assets/js/107.dc32950f.js"><link rel="prefetch" href="/learn-book/assets/js/108.f96a8dee.js"><link rel="prefetch" href="/learn-book/assets/js/109.ba4b933c.js"><link rel="prefetch" href="/learn-book/assets/js/11.a08a42ea.js"><link rel="prefetch" href="/learn-book/assets/js/110.3035f734.js"><link rel="prefetch" href="/learn-book/assets/js/111.fa05b698.js"><link rel="prefetch" href="/learn-book/assets/js/112.bbb150f0.js"><link rel="prefetch" href="/learn-book/assets/js/113.1263dcc6.js"><link rel="prefetch" href="/learn-book/assets/js/114.82285aec.js"><link rel="prefetch" href="/learn-book/assets/js/115.7509736a.js"><link rel="prefetch" href="/learn-book/assets/js/116.f57394f2.js"><link rel="prefetch" href="/learn-book/assets/js/117.9f37dd43.js"><link rel="prefetch" href="/learn-book/assets/js/118.73b62d5e.js"><link rel="prefetch" href="/learn-book/assets/js/119.ccc80315.js"><link rel="prefetch" href="/learn-book/assets/js/12.40792829.js"><link rel="prefetch" href="/learn-book/assets/js/120.0feeb1b4.js"><link rel="prefetch" href="/learn-book/assets/js/121.7bbdbedc.js"><link rel="prefetch" href="/learn-book/assets/js/122.f239e92d.js"><link rel="prefetch" href="/learn-book/assets/js/123.430e5350.js"><link rel="prefetch" href="/learn-book/assets/js/124.4a74a756.js"><link rel="prefetch" href="/learn-book/assets/js/125.9d441c34.js"><link rel="prefetch" href="/learn-book/assets/js/126.97b348bf.js"><link rel="prefetch" href="/learn-book/assets/js/127.85743ce6.js"><link rel="prefetch" href="/learn-book/assets/js/128.133b2151.js"><link rel="prefetch" href="/learn-book/assets/js/129.91eacdb7.js"><link rel="prefetch" href="/learn-book/assets/js/13.65102ef7.js"><link rel="prefetch" href="/learn-book/assets/js/130.00470fe8.js"><link rel="prefetch" href="/learn-book/assets/js/131.181aef24.js"><link rel="prefetch" href="/learn-book/assets/js/132.4166cdea.js"><link rel="prefetch" href="/learn-book/assets/js/133.ec5b9acc.js"><link rel="prefetch" href="/learn-book/assets/js/134.0c928687.js"><link rel="prefetch" href="/learn-book/assets/js/135.0b49f1c2.js"><link rel="prefetch" href="/learn-book/assets/js/136.be67ae82.js"><link rel="prefetch" href="/learn-book/assets/js/137.6f85ad05.js"><link rel="prefetch" href="/learn-book/assets/js/138.b3fa2ba7.js"><link rel="prefetch" href="/learn-book/assets/js/139.abf8672e.js"><link rel="prefetch" href="/learn-book/assets/js/14.4813a349.js"><link rel="prefetch" href="/learn-book/assets/js/140.d03ed1c1.js"><link rel="prefetch" href="/learn-book/assets/js/141.da6ec0e4.js"><link rel="prefetch" href="/learn-book/assets/js/142.09aed130.js"><link rel="prefetch" href="/learn-book/assets/js/143.4cffc3e5.js"><link rel="prefetch" href="/learn-book/assets/js/144.224499c6.js"><link rel="prefetch" href="/learn-book/assets/js/145.0268dd0e.js"><link rel="prefetch" href="/learn-book/assets/js/146.f0d0970e.js"><link rel="prefetch" href="/learn-book/assets/js/147.4a203a56.js"><link rel="prefetch" href="/learn-book/assets/js/148.3b084bf3.js"><link rel="prefetch" href="/learn-book/assets/js/149.d42b82bd.js"><link rel="prefetch" href="/learn-book/assets/js/15.ca243d77.js"><link rel="prefetch" href="/learn-book/assets/js/150.30cad9c9.js"><link rel="prefetch" href="/learn-book/assets/js/151.a27ba2c5.js"><link rel="prefetch" href="/learn-book/assets/js/152.8e388b90.js"><link rel="prefetch" href="/learn-book/assets/js/153.380f332c.js"><link rel="prefetch" href="/learn-book/assets/js/154.163b241b.js"><link rel="prefetch" href="/learn-book/assets/js/155.dacd37a6.js"><link rel="prefetch" href="/learn-book/assets/js/156.9296f4c8.js"><link rel="prefetch" href="/learn-book/assets/js/157.0c12b4ce.js"><link rel="prefetch" href="/learn-book/assets/js/158.79e7656c.js"><link rel="prefetch" href="/learn-book/assets/js/159.02749d11.js"><link rel="prefetch" href="/learn-book/assets/js/16.22ac0778.js"><link rel="prefetch" href="/learn-book/assets/js/160.3efbd6a0.js"><link rel="prefetch" href="/learn-book/assets/js/161.11e17eb7.js"><link rel="prefetch" href="/learn-book/assets/js/162.ed81bb49.js"><link rel="prefetch" href="/learn-book/assets/js/163.c321ec8d.js"><link rel="prefetch" href="/learn-book/assets/js/164.6831a594.js"><link rel="prefetch" href="/learn-book/assets/js/165.9e13a7e1.js"><link rel="prefetch" href="/learn-book/assets/js/166.20287335.js"><link rel="prefetch" href="/learn-book/assets/js/167.06fe0883.js"><link rel="prefetch" href="/learn-book/assets/js/168.574a5d34.js"><link rel="prefetch" href="/learn-book/assets/js/169.78d54345.js"><link rel="prefetch" href="/learn-book/assets/js/17.467198e5.js"><link rel="prefetch" href="/learn-book/assets/js/170.a8a8c838.js"><link rel="prefetch" href="/learn-book/assets/js/171.bce5528f.js"><link rel="prefetch" href="/learn-book/assets/js/172.6d122eaf.js"><link rel="prefetch" href="/learn-book/assets/js/173.b7b1734b.js"><link rel="prefetch" href="/learn-book/assets/js/174.0c5ddece.js"><link rel="prefetch" href="/learn-book/assets/js/175.fcb3bb1e.js"><link rel="prefetch" href="/learn-book/assets/js/176.4c8b6c1b.js"><link rel="prefetch" href="/learn-book/assets/js/177.2c821a10.js"><link rel="prefetch" href="/learn-book/assets/js/178.4b938acb.js"><link rel="prefetch" href="/learn-book/assets/js/179.e5a3f9d5.js"><link rel="prefetch" href="/learn-book/assets/js/18.2c2655d3.js"><link rel="prefetch" href="/learn-book/assets/js/180.e075e24a.js"><link rel="prefetch" href="/learn-book/assets/js/181.a8659308.js"><link rel="prefetch" href="/learn-book/assets/js/182.e02e157b.js"><link rel="prefetch" href="/learn-book/assets/js/183.fec3be72.js"><link rel="prefetch" href="/learn-book/assets/js/184.06841422.js"><link rel="prefetch" href="/learn-book/assets/js/185.967d47f7.js"><link rel="prefetch" href="/learn-book/assets/js/186.b27543eb.js"><link rel="prefetch" href="/learn-book/assets/js/187.0ab43110.js"><link rel="prefetch" href="/learn-book/assets/js/188.d2c20c41.js"><link rel="prefetch" href="/learn-book/assets/js/189.e50ac920.js"><link rel="prefetch" href="/learn-book/assets/js/19.87356261.js"><link rel="prefetch" href="/learn-book/assets/js/190.0bcce66f.js"><link rel="prefetch" href="/learn-book/assets/js/191.1a3d3266.js"><link rel="prefetch" href="/learn-book/assets/js/192.b46f1f92.js"><link rel="prefetch" href="/learn-book/assets/js/193.7cd9a2e2.js"><link rel="prefetch" href="/learn-book/assets/js/194.c7cac8f4.js"><link rel="prefetch" href="/learn-book/assets/js/195.76b36b43.js"><link rel="prefetch" href="/learn-book/assets/js/196.9ad5f9de.js"><link rel="prefetch" href="/learn-book/assets/js/197.2914f34f.js"><link rel="prefetch" href="/learn-book/assets/js/198.2e2c2c64.js"><link rel="prefetch" href="/learn-book/assets/js/199.0d8fc29e.js"><link rel="prefetch" href="/learn-book/assets/js/20.8693e977.js"><link rel="prefetch" href="/learn-book/assets/js/200.2bc59ffe.js"><link rel="prefetch" href="/learn-book/assets/js/201.6765dba2.js"><link rel="prefetch" href="/learn-book/assets/js/202.d19062c8.js"><link rel="prefetch" href="/learn-book/assets/js/203.270e8e72.js"><link rel="prefetch" href="/learn-book/assets/js/204.0ecf2cd8.js"><link rel="prefetch" href="/learn-book/assets/js/205.b241dd2b.js"><link rel="prefetch" href="/learn-book/assets/js/206.3d555da2.js"><link rel="prefetch" href="/learn-book/assets/js/207.b88d10dc.js"><link rel="prefetch" href="/learn-book/assets/js/208.d15b9895.js"><link rel="prefetch" href="/learn-book/assets/js/209.404964dd.js"><link rel="prefetch" href="/learn-book/assets/js/21.ce55ac2d.js"><link rel="prefetch" href="/learn-book/assets/js/210.8a6ad39b.js"><link rel="prefetch" href="/learn-book/assets/js/211.9f828903.js"><link rel="prefetch" href="/learn-book/assets/js/212.ecdb6c3d.js"><link rel="prefetch" href="/learn-book/assets/js/213.093b4b7f.js"><link rel="prefetch" href="/learn-book/assets/js/214.17e91916.js"><link rel="prefetch" href="/learn-book/assets/js/215.8f7b103b.js"><link rel="prefetch" href="/learn-book/assets/js/216.5a4cb55c.js"><link rel="prefetch" href="/learn-book/assets/js/217.850e8745.js"><link rel="prefetch" href="/learn-book/assets/js/218.b8913e63.js"><link rel="prefetch" href="/learn-book/assets/js/219.3260d54b.js"><link rel="prefetch" href="/learn-book/assets/js/22.2a565240.js"><link rel="prefetch" href="/learn-book/assets/js/220.6e440719.js"><link rel="prefetch" href="/learn-book/assets/js/221.ed0a4a3e.js"><link rel="prefetch" href="/learn-book/assets/js/222.ab1bbc7e.js"><link rel="prefetch" href="/learn-book/assets/js/223.b8d3fbb0.js"><link rel="prefetch" href="/learn-book/assets/js/224.eba39f96.js"><link rel="prefetch" href="/learn-book/assets/js/225.ba57ac7b.js"><link rel="prefetch" href="/learn-book/assets/js/226.760b4caf.js"><link rel="prefetch" href="/learn-book/assets/js/227.ff81b1ba.js"><link rel="prefetch" href="/learn-book/assets/js/228.15305fd8.js"><link rel="prefetch" href="/learn-book/assets/js/229.b1f93d41.js"><link rel="prefetch" href="/learn-book/assets/js/23.e4419686.js"><link rel="prefetch" href="/learn-book/assets/js/230.982e5c6c.js"><link rel="prefetch" href="/learn-book/assets/js/231.8ac0560e.js"><link rel="prefetch" href="/learn-book/assets/js/232.32eb3205.js"><link rel="prefetch" href="/learn-book/assets/js/233.cb14ad35.js"><link rel="prefetch" href="/learn-book/assets/js/234.0e3fb631.js"><link rel="prefetch" href="/learn-book/assets/js/235.1d7db823.js"><link rel="prefetch" href="/learn-book/assets/js/236.56df2b30.js"><link rel="prefetch" href="/learn-book/assets/js/237.56902777.js"><link rel="prefetch" href="/learn-book/assets/js/238.077f8961.js"><link rel="prefetch" href="/learn-book/assets/js/239.836f2633.js"><link rel="prefetch" href="/learn-book/assets/js/24.4ef60a35.js"><link rel="prefetch" href="/learn-book/assets/js/240.1958dc97.js"><link rel="prefetch" href="/learn-book/assets/js/241.628723f2.js"><link rel="prefetch" href="/learn-book/assets/js/242.80a9054d.js"><link rel="prefetch" href="/learn-book/assets/js/243.59d79e44.js"><link rel="prefetch" href="/learn-book/assets/js/244.d3442a00.js"><link rel="prefetch" href="/learn-book/assets/js/245.df290ae1.js"><link rel="prefetch" href="/learn-book/assets/js/246.bb4eb062.js"><link rel="prefetch" href="/learn-book/assets/js/247.c1cbe04d.js"><link rel="prefetch" href="/learn-book/assets/js/248.920787b0.js"><link rel="prefetch" href="/learn-book/assets/js/249.7ab19c67.js"><link rel="prefetch" href="/learn-book/assets/js/25.2b3311b7.js"><link rel="prefetch" href="/learn-book/assets/js/250.eacfb6a8.js"><link rel="prefetch" href="/learn-book/assets/js/251.44eb2a6b.js"><link rel="prefetch" href="/learn-book/assets/js/252.5af941db.js"><link rel="prefetch" href="/learn-book/assets/js/253.1d016c96.js"><link rel="prefetch" href="/learn-book/assets/js/254.3a6ec810.js"><link rel="prefetch" href="/learn-book/assets/js/255.77db8369.js"><link rel="prefetch" href="/learn-book/assets/js/256.a7b36739.js"><link rel="prefetch" href="/learn-book/assets/js/257.cffe71a4.js"><link rel="prefetch" href="/learn-book/assets/js/258.fdb4c219.js"><link rel="prefetch" href="/learn-book/assets/js/259.455a0c8b.js"><link rel="prefetch" href="/learn-book/assets/js/26.70973cf8.js"><link rel="prefetch" href="/learn-book/assets/js/260.f7d47a3e.js"><link rel="prefetch" href="/learn-book/assets/js/261.b1e2a5bf.js"><link rel="prefetch" href="/learn-book/assets/js/262.aaa755c2.js"><link rel="prefetch" href="/learn-book/assets/js/263.e838a513.js"><link rel="prefetch" href="/learn-book/assets/js/264.b8733c83.js"><link rel="prefetch" href="/learn-book/assets/js/265.c5fdd3c5.js"><link rel="prefetch" href="/learn-book/assets/js/266.e8d01769.js"><link rel="prefetch" href="/learn-book/assets/js/267.c9742e28.js"><link rel="prefetch" href="/learn-book/assets/js/268.2b148bef.js"><link rel="prefetch" href="/learn-book/assets/js/269.e03565b0.js"><link rel="prefetch" href="/learn-book/assets/js/27.8106f1e9.js"><link rel="prefetch" href="/learn-book/assets/js/270.65b5d908.js"><link rel="prefetch" href="/learn-book/assets/js/271.fbde0cac.js"><link rel="prefetch" href="/learn-book/assets/js/272.03745530.js"><link rel="prefetch" href="/learn-book/assets/js/273.8785fc29.js"><link rel="prefetch" href="/learn-book/assets/js/274.0ff015ae.js"><link rel="prefetch" href="/learn-book/assets/js/275.4fe4ba23.js"><link rel="prefetch" href="/learn-book/assets/js/276.26d537d4.js"><link rel="prefetch" href="/learn-book/assets/js/277.d95836c7.js"><link rel="prefetch" href="/learn-book/assets/js/278.eb312d49.js"><link rel="prefetch" href="/learn-book/assets/js/279.d0ce3bfd.js"><link rel="prefetch" href="/learn-book/assets/js/28.b3ebf8e6.js"><link rel="prefetch" href="/learn-book/assets/js/280.0c7ddd76.js"><link rel="prefetch" href="/learn-book/assets/js/281.94b40ca5.js"><link rel="prefetch" href="/learn-book/assets/js/282.4f902cb2.js"><link rel="prefetch" href="/learn-book/assets/js/283.834f65b2.js"><link rel="prefetch" href="/learn-book/assets/js/284.283c48cf.js"><link rel="prefetch" href="/learn-book/assets/js/285.4c68b9f5.js"><link rel="prefetch" href="/learn-book/assets/js/286.c34e142a.js"><link rel="prefetch" href="/learn-book/assets/js/287.b6713fe5.js"><link rel="prefetch" href="/learn-book/assets/js/288.cac84ba9.js"><link rel="prefetch" href="/learn-book/assets/js/289.9a6f3ebc.js"><link rel="prefetch" href="/learn-book/assets/js/29.e196143d.js"><link rel="prefetch" href="/learn-book/assets/js/290.fe2f74e5.js"><link rel="prefetch" href="/learn-book/assets/js/291.23dc1b91.js"><link rel="prefetch" href="/learn-book/assets/js/292.80606528.js"><link rel="prefetch" href="/learn-book/assets/js/293.aa013666.js"><link rel="prefetch" href="/learn-book/assets/js/294.0dee2576.js"><link rel="prefetch" href="/learn-book/assets/js/295.c731059a.js"><link rel="prefetch" href="/learn-book/assets/js/296.b226f176.js"><link rel="prefetch" href="/learn-book/assets/js/297.69f8e024.js"><link rel="prefetch" href="/learn-book/assets/js/298.8d2da06c.js"><link rel="prefetch" href="/learn-book/assets/js/299.e168b956.js"><link rel="prefetch" href="/learn-book/assets/js/3.e9334214.js"><link rel="prefetch" href="/learn-book/assets/js/30.0f44a043.js"><link rel="prefetch" href="/learn-book/assets/js/300.335941ee.js"><link rel="prefetch" href="/learn-book/assets/js/301.4bab8322.js"><link rel="prefetch" href="/learn-book/assets/js/302.2f5148b0.js"><link rel="prefetch" href="/learn-book/assets/js/303.2e8d30f0.js"><link rel="prefetch" href="/learn-book/assets/js/304.f0e9bbb8.js"><link rel="prefetch" href="/learn-book/assets/js/305.80fc4688.js"><link rel="prefetch" href="/learn-book/assets/js/306.f554b95c.js"><link rel="prefetch" href="/learn-book/assets/js/307.03aa7e5b.js"><link rel="prefetch" href="/learn-book/assets/js/308.af120a3e.js"><link rel="prefetch" href="/learn-book/assets/js/309.af606132.js"><link rel="prefetch" href="/learn-book/assets/js/31.00dd7380.js"><link rel="prefetch" href="/learn-book/assets/js/310.47599795.js"><link rel="prefetch" href="/learn-book/assets/js/311.00539011.js"><link rel="prefetch" href="/learn-book/assets/js/312.fbc57673.js"><link rel="prefetch" href="/learn-book/assets/js/313.8e8daad4.js"><link rel="prefetch" href="/learn-book/assets/js/314.268dcf0e.js"><link rel="prefetch" href="/learn-book/assets/js/315.aabe7e52.js"><link rel="prefetch" href="/learn-book/assets/js/316.faa4e876.js"><link rel="prefetch" href="/learn-book/assets/js/317.d802eb3f.js"><link rel="prefetch" href="/learn-book/assets/js/318.c262b463.js"><link rel="prefetch" href="/learn-book/assets/js/319.24a8ff4d.js"><link rel="prefetch" href="/learn-book/assets/js/32.7c34bc5e.js"><link rel="prefetch" href="/learn-book/assets/js/320.9c7cda5a.js"><link rel="prefetch" href="/learn-book/assets/js/321.23b9a0be.js"><link rel="prefetch" href="/learn-book/assets/js/322.ad972338.js"><link rel="prefetch" href="/learn-book/assets/js/323.07f13ace.js"><link rel="prefetch" href="/learn-book/assets/js/324.18b8d5ae.js"><link rel="prefetch" href="/learn-book/assets/js/325.f01bde16.js"><link rel="prefetch" href="/learn-book/assets/js/326.629c1072.js"><link rel="prefetch" href="/learn-book/assets/js/327.39e6c9e2.js"><link rel="prefetch" href="/learn-book/assets/js/328.c699721e.js"><link rel="prefetch" href="/learn-book/assets/js/329.b54ab0db.js"><link rel="prefetch" href="/learn-book/assets/js/33.2386fa0f.js"><link rel="prefetch" href="/learn-book/assets/js/330.79e7cbcf.js"><link rel="prefetch" href="/learn-book/assets/js/331.377fadf6.js"><link rel="prefetch" href="/learn-book/assets/js/332.63cd94c2.js"><link rel="prefetch" href="/learn-book/assets/js/333.da52ece6.js"><link rel="prefetch" href="/learn-book/assets/js/334.5f196b50.js"><link rel="prefetch" href="/learn-book/assets/js/335.97b4ef4c.js"><link rel="prefetch" href="/learn-book/assets/js/336.e57f018e.js"><link rel="prefetch" href="/learn-book/assets/js/337.0a5a0859.js"><link rel="prefetch" href="/learn-book/assets/js/338.7a7f0b61.js"><link rel="prefetch" href="/learn-book/assets/js/339.7cd408bd.js"><link rel="prefetch" href="/learn-book/assets/js/34.0d02a15e.js"><link rel="prefetch" href="/learn-book/assets/js/340.04cb06e8.js"><link rel="prefetch" href="/learn-book/assets/js/341.537861d1.js"><link rel="prefetch" href="/learn-book/assets/js/342.da14f695.js"><link rel="prefetch" href="/learn-book/assets/js/343.74707d52.js"><link rel="prefetch" href="/learn-book/assets/js/344.b350096e.js"><link rel="prefetch" href="/learn-book/assets/js/345.dbf62aca.js"><link rel="prefetch" href="/learn-book/assets/js/346.3f255f50.js"><link rel="prefetch" href="/learn-book/assets/js/347.f4668b0d.js"><link rel="prefetch" href="/learn-book/assets/js/348.542573cc.js"><link rel="prefetch" href="/learn-book/assets/js/349.6888cb35.js"><link rel="prefetch" href="/learn-book/assets/js/35.74523ded.js"><link rel="prefetch" href="/learn-book/assets/js/350.cd705439.js"><link rel="prefetch" href="/learn-book/assets/js/351.093058d4.js"><link rel="prefetch" href="/learn-book/assets/js/352.77230cba.js"><link rel="prefetch" href="/learn-book/assets/js/353.8f883fac.js"><link rel="prefetch" href="/learn-book/assets/js/354.d52aee3e.js"><link rel="prefetch" href="/learn-book/assets/js/355.77a0126a.js"><link rel="prefetch" href="/learn-book/assets/js/356.dbf927e4.js"><link rel="prefetch" href="/learn-book/assets/js/357.0973baa0.js"><link rel="prefetch" href="/learn-book/assets/js/358.cac7fab3.js"><link rel="prefetch" href="/learn-book/assets/js/359.e8330d89.js"><link rel="prefetch" href="/learn-book/assets/js/36.0da2006f.js"><link rel="prefetch" href="/learn-book/assets/js/360.afef7c08.js"><link rel="prefetch" href="/learn-book/assets/js/361.6237f112.js"><link rel="prefetch" href="/learn-book/assets/js/362.34d1483e.js"><link rel="prefetch" href="/learn-book/assets/js/363.b7b45618.js"><link rel="prefetch" href="/learn-book/assets/js/364.e6d9ce62.js"><link rel="prefetch" href="/learn-book/assets/js/37.2fc83856.js"><link rel="prefetch" href="/learn-book/assets/js/38.79be50ee.js"><link rel="prefetch" href="/learn-book/assets/js/39.88a682f8.js"><link rel="prefetch" href="/learn-book/assets/js/4.0c4a4c2a.js"><link rel="prefetch" href="/learn-book/assets/js/40.e29bfa4b.js"><link rel="prefetch" href="/learn-book/assets/js/41.d4016d53.js"><link rel="prefetch" href="/learn-book/assets/js/42.c548ba43.js"><link rel="prefetch" href="/learn-book/assets/js/43.472c0c7f.js"><link rel="prefetch" href="/learn-book/assets/js/44.e0613af7.js"><link rel="prefetch" href="/learn-book/assets/js/45.e0c5b514.js"><link rel="prefetch" href="/learn-book/assets/js/46.0d833848.js"><link rel="prefetch" href="/learn-book/assets/js/47.167e51ca.js"><link rel="prefetch" href="/learn-book/assets/js/48.c55f2d7a.js"><link rel="prefetch" href="/learn-book/assets/js/49.600b0356.js"><link rel="prefetch" href="/learn-book/assets/js/5.c26035a1.js"><link rel="prefetch" href="/learn-book/assets/js/50.70947932.js"><link rel="prefetch" href="/learn-book/assets/js/51.924af1dd.js"><link rel="prefetch" href="/learn-book/assets/js/52.447da1c4.js"><link rel="prefetch" href="/learn-book/assets/js/53.b7e4c782.js"><link rel="prefetch" href="/learn-book/assets/js/54.4d31d080.js"><link rel="prefetch" href="/learn-book/assets/js/55.91a4b03c.js"><link rel="prefetch" href="/learn-book/assets/js/56.1cb7915e.js"><link rel="prefetch" href="/learn-book/assets/js/57.2affe6fc.js"><link rel="prefetch" href="/learn-book/assets/js/58.27d5c7cd.js"><link rel="prefetch" href="/learn-book/assets/js/59.2bd7f911.js"><link rel="prefetch" href="/learn-book/assets/js/6.41833f8f.js"><link rel="prefetch" href="/learn-book/assets/js/60.626def20.js"><link rel="prefetch" href="/learn-book/assets/js/61.45f51e6d.js"><link rel="prefetch" href="/learn-book/assets/js/62.4bdda78c.js"><link rel="prefetch" href="/learn-book/assets/js/63.557bc394.js"><link rel="prefetch" href="/learn-book/assets/js/64.aff699bf.js"><link rel="prefetch" href="/learn-book/assets/js/65.692f7816.js"><link rel="prefetch" href="/learn-book/assets/js/66.25ecbcaa.js"><link rel="prefetch" href="/learn-book/assets/js/67.8fa8a16e.js"><link rel="prefetch" href="/learn-book/assets/js/68.92b6a3f8.js"><link rel="prefetch" href="/learn-book/assets/js/69.efff96d2.js"><link rel="prefetch" href="/learn-book/assets/js/7.8100f2ed.js"><link rel="prefetch" href="/learn-book/assets/js/70.aacd8d45.js"><link rel="prefetch" href="/learn-book/assets/js/71.97a38b91.js"><link rel="prefetch" href="/learn-book/assets/js/72.fa0bbfba.js"><link rel="prefetch" href="/learn-book/assets/js/73.7065bf44.js"><link rel="prefetch" href="/learn-book/assets/js/74.cc9e8786.js"><link rel="prefetch" href="/learn-book/assets/js/75.9853915c.js"><link rel="prefetch" href="/learn-book/assets/js/76.3bb84aff.js"><link rel="prefetch" href="/learn-book/assets/js/77.1d7faa0b.js"><link rel="prefetch" href="/learn-book/assets/js/78.82ccf15d.js"><link rel="prefetch" href="/learn-book/assets/js/79.1ca14563.js"><link rel="prefetch" href="/learn-book/assets/js/8.a6e82c65.js"><link rel="prefetch" href="/learn-book/assets/js/80.009c8d78.js"><link rel="prefetch" href="/learn-book/assets/js/81.7c70581a.js"><link rel="prefetch" href="/learn-book/assets/js/82.25fa4637.js"><link rel="prefetch" href="/learn-book/assets/js/84.9e77b512.js"><link rel="prefetch" href="/learn-book/assets/js/85.bebb4293.js"><link rel="prefetch" href="/learn-book/assets/js/86.5a6fb0e3.js"><link rel="prefetch" href="/learn-book/assets/js/87.5a748d18.js"><link rel="prefetch" href="/learn-book/assets/js/88.17a0f517.js"><link rel="prefetch" href="/learn-book/assets/js/89.22035541.js"><link rel="prefetch" href="/learn-book/assets/js/9.5a3b25cd.js"><link rel="prefetch" href="/learn-book/assets/js/91.4b34da5a.js"><link rel="prefetch" href="/learn-book/assets/js/92.9739a603.js"><link rel="prefetch" href="/learn-book/assets/js/93.38329abe.js"><link rel="prefetch" href="/learn-book/assets/js/94.52432e65.js"><link rel="prefetch" href="/learn-book/assets/js/95.363db7ac.js"><link rel="prefetch" href="/learn-book/assets/js/96.f5e07454.js"><link rel="prefetch" href="/learn-book/assets/js/97.76268626.js"><link rel="prefetch" href="/learn-book/assets/js/98.34e210bb.js"><link rel="prefetch" href="/learn-book/assets/js/99.d3018ce2.js">
    <link rel="stylesheet" href="/learn-book/assets/css/0.styles.d1598957.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/learn-book/" class="home-link router-link-active"><img src="/learn-book/mlogo.svg" alt="LEARN-BOOK" class="logo"> <span class="site-name can-hide">LEARN-BOOK</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="mobile-dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合性导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/" class="nav-link router-link-active">
  全目录导航
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/001-introduce.html" class="nav-link">
  第一版（001 ~ 123 章）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/124.html" class="nav-link">
  第二版（124 ~ 195 章）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/121.html" class="nav-link">
  课程总结（难题与解决方案）
</a></li></ul></li><li class="dropdown-item"><h4>
          精彩知识精选
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/redis/007.html" class="nav-link">
  Redis 篇（redis 企业级集群架构）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/035.html" class="nav-link">
  多级缓存架构设计
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/040.html" class="nav-link">
  数据库 + 缓存双写一致性解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/045.html" class="nav-link">
  缓存维度化拆分解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/051.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  缓存命中率提升解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/057.html" class="nav-link">
  缓存并发重建冲突解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/069.html" class="nav-link">
  缓存预热解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/077.html" class="nav-link">
  热点缓存自动降级方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/110.html" class="nav-link">
  缓存雪崩解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/117.html" class="nav-link">
  缓存穿透解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/119.html" class="nav-link">
  缓存失效解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/hystrix/084.html" class="nav-link">
  高可用分布式系统架构设计（hystrix 篇）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/047.html" class="nav-link">
  spring boot 整合 ehcache
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/storm/062.html" class="nav-link">
  史上最通俗易懂 Storm 教程
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程目录" class="dropdown-title"><span class="title">课程目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程目录" class="mobile-dropdown-title"><span class="title">课程目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-book/monitor-tuning/" class="nav-link">
  JAVA 生产环境下性能监控与调优详解
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/http-protocol/" class="nav-link">
  透视 HTTP 协议
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/ddd/" class="nav-link">
  DDD 实战课
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/middle-office/" class="nav-link">
  说透中台
</a></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/imocc/design_pattern/" class="nav-link">
  设计模式（慕课）
</a></li><li class="dropdown-subitem"><a href="/learn-book/design_pattern/" class="nav-link">
  研磨设计模式（李兴华）
</a></li></ul></li></ul></div></div> <a href="https://github.com/abc0721/learn-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow down"></span></button> <button type="button" aria-label="缓存架构-亿级流量电商详情页系统实战" class="mobile-dropdown-title"><span class="title">缓存架构-亿级流量电商详情页系统实战</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          综合性导航
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/" class="nav-link router-link-active">
  全目录导航
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/001-introduce.html" class="nav-link">
  第一版（001 ~ 123 章）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/124.html" class="nav-link">
  第二版（124 ~ 195 章）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/121.html" class="nav-link">
  课程总结（难题与解决方案）
</a></li></ul></li><li class="dropdown-item"><h4>
          精彩知识精选
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/redis/007.html" class="nav-link">
  Redis 篇（redis 企业级集群架构）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/035.html" class="nav-link">
  多级缓存架构设计
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/040.html" class="nav-link">
  数据库 + 缓存双写一致性解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/045.html" class="nav-link">
  缓存维度化拆分解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/051.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  缓存命中率提升解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/057.html" class="nav-link">
  缓存并发重建冲突解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/069.html" class="nav-link">
  缓存预热解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/077.html" class="nav-link">
  热点缓存自动降级方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/110.html" class="nav-link">
  缓存雪崩解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/117.html" class="nav-link">
  缓存穿透解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/119.html" class="nav-link">
  缓存失效解决方案
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/hystrix/084.html" class="nav-link">
  高可用分布式系统架构设计（hystrix 篇）
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/047.html" class="nav-link">
  spring boot 整合 ehcache
</a></li><li class="dropdown-subitem"><a href="/learn-book/cache-pdp/storm/062.html" class="nav-link">
  史上最通俗易懂 Storm 教程
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="课程目录" class="dropdown-title"><span class="title">课程目录</span> <span class="arrow down"></span></button> <button type="button" aria-label="课程目录" class="mobile-dropdown-title"><span class="title">课程目录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/learn-book/monitor-tuning/" class="nav-link">
  JAVA 生产环境下性能监控与调优详解
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/http-protocol/" class="nav-link">
  透视 HTTP 协议
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/ddd/" class="nav-link">
  DDD 实战课
</a></li><li class="dropdown-item"><!----> <a href="/learn-book/middle-office/" class="nav-link">
  说透中台
</a></li><li class="dropdown-item"><h4>
          设计模式
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/learn-book/imocc/design_pattern/" class="nav-link">
  设计模式（慕课）
</a></li><li class="dropdown-subitem"><a href="/learn-book/design_pattern/" class="nav-link">
  研磨设计模式（李兴华）
</a></li></ul></li></ul></div></div> <a href="https://github.com/abc0721/learn-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/learn-book/cache-pdp/" aria-current="page" class="sidebar-link">亿级流量电商详情页系统实战（第二版）：缓存架构+高可用服务架构+微服务架构</a></li><li><a href="/learn-book/cache-pdp/001-introduce.html" class="sidebar-link">001. 课程介绍以及高并发高可用复杂系统中的缓存架构有哪些东西</a></li><li><a href="/learn-book/cache-pdp/002.html" class="sidebar-link">002. 基于大型电商网站中的商品详情页系统贯穿的授课思路介绍</a></li><li><a href="/learn-book/cache-pdp/003.html" class="sidebar-link">003. 小型电商网站的商品详情页的页面静态化架构以及其缺陷</a></li><li><a href="/learn-book/cache-pdp/004.html" class="sidebar-link">004. 大型电商网站的异步多级缓存构建 + nginx 数据本地化动态渲染的架构</a></li><li><a href="/learn-book/cache-pdp/005.html" class="sidebar-link">005. 能够支撑高并发 + 高可用 + 海量数据 + 备份恢复的 redis 的重要性</a></li><li><a href="/learn-book/cache-pdp/006.html" class="sidebar-link">006. 从零开始在虚拟机中一步一步搭建一个 4 个节点的 CentOS 集群</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redis</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/learn-book/cache-pdp/035.html" class="sidebar-link">035. 亿级流量商品详情页的多级缓存架构以及架构中每一层的意义</a></li><li><a href="/learn-book/cache-pdp/036.html" class="sidebar-link">036. Cache Aside Pattern 缓存+数据库读写模式的分析</a></li><li><a href="/learn-book/cache-pdp/037.html" class="sidebar-link">037. 高并发场景下的缓存 + 数据库双写不一致问题分析与解决方案设计</a></li><li><a href="/learn-book/cache-pdp/038.html" class="sidebar-link">038. 在 linux 虚拟机中安装部署 MySQL 数据库</a></li><li><a href="/learn-book/cache-pdp/039.html" class="sidebar-link">039. 库存服务的开发框架整合与搭建：spring boot + mybatis + jedis</a></li><li><a href="/learn-book/cache-pdp/040.html" class="sidebar-link">040. 在库存服务中实现缓存与数据库双写一致性保障方案</a></li><li><a href="/learn-book/cache-pdp/044.html" class="sidebar-link">044. 库存服务代码调试以及打印日志观察服务的运行流程是否正确</a></li><li><a href="/learn-book/cache-pdp/045.html" class="sidebar-link">045. 商品详情页结构分析、缓存全量更新问题以及缓存维度化解决方案</a></li><li><a href="/learn-book/cache-pdp/046.html" class="sidebar-link">046. 缓存数据生产服务的工作流程分析以及工程环境搭建</a></li><li><a href="/learn-book/cache-pdp/047.html" class="sidebar-link">047. 完成 spring boot 整合 ehcache 的搭建以支持服务本地堆缓存</a></li><li><a href="/learn-book/cache-pdp/048.html" class="sidebar-link">048. redis 的 LRU 缓存清除算法讲解以及相关配置使用</a></li><li><a href="/learn-book/cache-pdp/049.html" class="sidebar-link">049. zookeeper + kafka 集群的安装部署以及如何简单使用的介绍</a></li><li><a href="/learn-book/cache-pdp/050.html" class="sidebar-link">050. 基于 kafka + ehcache + redis 完成缓存数据生产服务的开发与测试</a></li><li><a href="/learn-book/cache-pdp/051.html" aria-current="page" class="active sidebar-link">051. 基于“分发层 + 应用层”双层 nginx 架构提升缓存命中率方案分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/learn-book/cache-pdp/051.html#缓存命中率低" class="sidebar-link">缓存命中率低</a></li><li class="sidebar-sub-header"><a href="/learn-book/cache-pdp/051.html#如何提升缓存命中率" class="sidebar-link">如何提升缓存命中率？</a></li></ul></li><li><a href="/learn-book/cache-pdp/052.html" class="sidebar-link">052. 基于 OpenResty 部署应用层 nginx 以及 nginx + lua 开发 hello world</a></li><li><a href="/learn-book/cache-pdp/053.html" class="sidebar-link">053. 部署分发层 nginx 以及基于 lua 完成基于商品 id 的定向流量分发策略</a></li><li><a href="/learn-book/cache-pdp/054.html" class="sidebar-link">054. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（一）</a></li><li><a href="/learn-book/cache-pdp/055.html" class="sidebar-link">055. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（二）</a></li><li><a href="/learn-book/cache-pdp/056.html" class="sidebar-link">056. 基于 nginx + lua + java 完成多级缓存架构的核心业务逻辑（三）</a></li><li><a href="/learn-book/cache-pdp/057.html" class="sidebar-link">057. 分布式缓存重建并发冲突问题以及 zookeeper 分布式锁解决方案</a></li><li><a href="/learn-book/cache-pdp/058.html" class="sidebar-link">058. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（一）</a></li><li><a href="/learn-book/cache-pdp/059.html" class="sidebar-link">059. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（二）</a></li><li><a href="/learn-book/cache-pdp/060.html" class="sidebar-link">060. 缓存数据生产服务中的 zk 分布式锁解决方案的代码实现（三）</a></li><li><a href="/learn-book/cache-pdp/061.html" class="sidebar-link">061. Java 程序员、缓存架构以及 Storm 大数据实时计算之间的关系</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>讲给 Java 工程师的史上最通俗易懂 Storm 教程</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/learn-book/cache-pdp/068.html" class="sidebar-link">068. 缓存冷启动问题：新系统上线 redis 彻底崩溃导致数据无法恢复</a></li><li><a href="/learn-book/cache-pdp/069.html" class="sidebar-link">069. 缓存预热解决方案：基于 storm 实时热点统计的分布式并行缓存预热</a></li><li><a href="/learn-book/cache-pdp/070.html" class="sidebar-link">070. 基于 nginx+lua 完成商品详情页访问流量实时上报 kafka 的开发</a></li><li><a href="/learn-book/cache-pdp/071.html" class="sidebar-link">071. 基于 storm+kafka 完成商品访问次数实时统计拓扑的开发</a></li><li><a href="/learn-book/cache-pdp/072.html" class="sidebar-link">072. 基于 storm 完成 LRUMap 中 topn 热门商品列表的算法讲解与编写</a></li><li><a href="/learn-book/cache-pdp/073.html" class="sidebar-link">073. 基于 storm+zookeeper 完成热门商品列表的分段存储</a></li><li><a href="/learn-book/cache-pdp/074.html" class="sidebar-link">074. 基于双重 zookeeper 分布式锁完成分布式并行缓存预热的代码开发</a></li><li><a href="/learn-book/cache-pdp/075.html" class="sidebar-link">075. 将缓存预热解决方案的代码运行后观察效果以及调试和修复所有的 bug</a></li><li><a href="/learn-book/cache-pdp/076.html" class="sidebar-link">076. 热点缓存问题：促销抢购时的超级热门商品可能导致系统全盘崩溃的场景</a></li><li><a href="/learn-book/cache-pdp/077.html" class="sidebar-link">077. 基于 nginx+lua+storm 的热点缓存的流量分发策略自动降级解决方案</a></li><li><a href="/learn-book/cache-pdp/078.html" class="sidebar-link">078. 在 storm 拓扑中加入热点缓存实时自动识别和感知的代码逻辑</a></li><li><a href="/learn-book/cache-pdp/079.html" class="sidebar-link">079. 在 storm 拓扑中加入 nginx 反向推送缓存热点与缓存数据的代码逻辑</a></li><li><a href="/learn-book/cache-pdp/080.html" class="sidebar-link">080. 在流量分发+后端应用双层 nginx 中加入接收热点缓存数据的接口</a></li><li><a href="/learn-book/cache-pdp/081.html" class="sidebar-link">081. 在 nginx+lua 中实现热点缓存自动降级为负载均衡流量分发策略的逻辑</a></li><li><a href="/learn-book/cache-pdp/082.html" class="sidebar-link">082. 在 storm 拓扑中加入热点缓存消失的实时自动识别和感知的代码逻辑</a></li><li><a href="/learn-book/cache-pdp/083.html" class="sidebar-link">083. 将热点缓存自动降级解决方案的代码运行后观察效果以及调试和修复 bug</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>hystrix</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>缓存雪崩</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>缓存穿透</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/learn-book/cache-pdp/121.html" class="sidebar-link">121. 支撑高并发与高可用的大型电商详情页系统的缓存架构课程总结</a></li><li><a href="/learn-book/cache-pdp/122.html" class="sidebar-link">122. 如何将课程中的东西学以致用在自己目前的项目中去应用？</a></li><li><a href="/learn-book/cache-pdp/123.html" class="sidebar-link">123. 如何带着课程中讲解的东西化为自己的技术并找一份更好的工作？</a></li><li><a href="/learn-book/cache-pdp/124.html" class="sidebar-link">124. 大型电商网站的商品详情页的深入分析（第二版开始）</a></li><li><a href="/learn-book/cache-pdp/125.html" class="sidebar-link">125. 大型电商网站的商品详情页系统架构是如何一步一步演进的</a></li><li><a href="/learn-book/cache-pdp/126.html" class="sidebar-link">126. 亿级流量大型电商网站的商品详情页系统架构的整体设计</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>动态渲染系统</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>OneService 系统</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/learn-book/cache-pdp/195.html" class="sidebar-link">195. 商品详情页前端介绍&amp;课程总结&amp; Java 架构师展望</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_051-基于-分发层-应用层-双层-nginx-架构提升缓存命中率方案分析"><a href="#_051-基于-分发层-应用层-双层-nginx-架构提升缓存命中率方案分析" class="header-anchor">#</a> 051. 基于“分发层 + 应用层”双层 nginx 架构提升缓存命中率方案分析</h1> <p>缓存数据生产服务那一层已经搞定了，相当于三层缓存架构中的本地堆缓存 + redis 分布式缓存都搞定了</p> <p>就要来做三级缓存中的 nginx 那一层的缓存了</p> <h2 id="缓存命中率低"><a href="#缓存命中率低" class="header-anchor">#</a> 缓存命中率低</h2> <p>如果一般来说，你默认会部署多个 nginx，在里面都会放一些缓存，就默认情况下，此时缓存命中率是比较低的</p> <p><img src="/learn-book/assets/img/markdown-img-paste-20190407210110612.88a47fa6.png" alt=""></p> <p>如上图，被均衡分发了，所以命中率很低。</p> <h2 id="如何提升缓存命中率"><a href="#如何提升缓存命中率" class="header-anchor">#</a> 如何提升缓存命中率？</h2> <p>方案：分发层+应用层，双层 nginx</p> <p>分发层 nginx，负责流量分发的逻辑和策略，这个里面它可以根据你自己定义的一些规则，
比如根据 productId 去进行 hash，然后对后端的 nginx 数量取模，将某一个商品的访问的请求，
就固定路由到一个 nginx 后端服务器上去，保证说只会从 redis 中获取一次缓存数据，
后面全都是走 nginx 本地缓存了</p> <p>后端的 nginx 服务器，就称之为应用服务器; 最前端的 nginx 服务器，被称之为分发服务器</p> <p><img src="data:image/png;base64,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" alt=""></p> <p>看似很简单，其实很有用，在实际的生产环境中，可以大幅度提升你的 nginx 本地缓存这一层的命中率，
大幅度减少 redis 后端的压力，提升性能</p> <div class="custom-block tip"><p class="custom-block-title">疑问</p> <p>到现在我都有好多疑问，是基于自己使用 spring cloud 来看待这种路由到固定的机器上面去，
其实这就相当于有状态了，在缓冲架构里面他的确能解决缓存命中问题，但是在灵活性上，
增加服务，减少服务就有问题了。 这个疑问现在还不是特别的明确，后续再看吧</p></div> <iframe height="500px" width="100%" frameborder="0" allowfullscreen="allowfullscreen" src="/learn-book/ads.html"></iframe></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/abc0721/learn-book/edit/main/docs/cache-pdp/051.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022-07-21 22:05:38</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/learn-book/cache-pdp/050.html" class="prev">
        050. 基于 kafka + ehcache + redis 完成缓存数据生产服务的开发与测试
      </a></span> <span class="next"><a href="/learn-book/cache-pdp/052.html">
        052. 基于 OpenResty 部署应用层 nginx 以及 nginx + lua 开发 hello world
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/learn-book/assets/js/app.028ed7df.js" defer></script><script src="/learn-book/assets/js/2.21223788.js" defer></script><script src="/learn-book/assets/js/90.3222c7da.js" defer></script><script src="/learn-book/assets/js/83.ec5af474.js" defer></script>
  </body>
</html>
